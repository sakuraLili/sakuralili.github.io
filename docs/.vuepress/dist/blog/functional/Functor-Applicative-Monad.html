<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图解 Functor ,  Applicative 和 Monad | Hello World</title>
    <meta name="description" content="Personal blog">
    <link ref="icon" href="./public/favicon.icon">
    
    <link rel="preload" href="/assets/css/0.styles.de3e197a.css" as="style"><link rel="preload" href="/assets/js/app.0aa02add.js" as="script"><link rel="preload" href="/assets/js/2.0d2ceddb.js" as="script"><link rel="preload" href="/assets/js/3.ee7ea6b1.js" as="script"><link rel="prefetch" href="/assets/js/10.cd6ef583.js"><link rel="prefetch" href="/assets/js/11.ac3731f3.js"><link rel="prefetch" href="/assets/js/12.54e21ff4.js"><link rel="prefetch" href="/assets/js/13.d638cb8d.js"><link rel="prefetch" href="/assets/js/14.1c2b6b85.js"><link rel="prefetch" href="/assets/js/15.3bb88acd.js"><link rel="prefetch" href="/assets/js/16.e079fa84.js"><link rel="prefetch" href="/assets/js/4.f0fb89a8.js"><link rel="prefetch" href="/assets/js/5.3d7e6115.js"><link rel="prefetch" href="/assets/js/6.a1dec3cf.js"><link rel="prefetch" href="/assets/js/7.fa864d0a.js"><link rel="prefetch" href="/assets/js/8.d3a4d843.js"><link rel="prefetch" href="/assets/js/9.472f6c7f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.de3e197a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello World</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">个人文章</a></div><div class="nav-item"><a href="/" class="nav-link">学习资源</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">个人文章</a></div><div class="nav-item"><a href="/" class="nav-link">学习资源</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/JavaScript/" class="sidebar-link">JavaScript</a></li><li><a href="/blog/CSS/" class="sidebar-link">CSS</a></li><li><a href="/blog/functional/" class="sidebar-link">函数式编程</a></li><li><a href="/blog/question/" class="sidebar-link">问题累积</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="图解functor-applicative和monad"><a href="#图解functor-applicative和monad" aria-hidden="true" class="header-anchor">#</a> 图解<code>Functor</code>, <code>Applicative</code>和<code>Monad</code></h2> <blockquote><ol><li><p><a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank" rel="noopener noreferrer">英文原文链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>原文是站在<code>Haskell</code>方面写的，其中涉及到一些<code>Haskell</code> 中的方法。这些方法对于<code>JavaScript</code>开发者可能不太容易理解，所以可以去看<a href="https://medium.com/@tzehsiang/javascript-functor-applicative-monads-in-pictures-b567c6415221" target="_blank" rel="noopener noreferrer"><code>JavaScript</code>版本<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>上面的链接都需要梯子，想要看国内的文章，可以去<a href="http://www.ruanyifeng.com/blog/2015/07/monad.html" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ol></blockquote> <p>下面是一个值：</p> <p><img src="data:image/png;base64,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" alt="image from dependency"></p> <p>我们都知道怎么运用一个函数到这个值上面：</p> <p><img src="/assets/img/2.97b49a7a.png" alt="image from dependency"></p> <blockquote><p>备注：图中<code>(+3)</code>表示的是一个进行加<code>3</code>操作的函数</p></blockquote> <p>很简单。让我们扩展一下，==任何值都可以被放入一个上下文中==。所以现在你可以将上下文想象成一个盒子，你可以将一个值放进这个盒子中。</p> <p><img src="/assets/img/3.7131d356.png" alt="image from dependency"></p> <p>现在当你在这个值上使用函数时，根据不同的上下文，你会得到不同的结果，这就是<code>Functor</code>、<code>Applicative</code>、<code>Monad</code>和<code>Arrow</code>等的基础概念。如图：数据类型 <code>Maybe</code>定义了两个相关的上下文。</p> <blockquote><p>数据类型就是对值的一种封装，不仅包括值本身，还包括相关的属性和方法。上图就是2的封装，从此2就不是一个单纯的值，而是一种数据类型的实例，只能在数据类型的场景（context）中使用。</p></blockquote> <p><img src="/assets/img/4.557c1ec2.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>data Maybe a = Nothing | Just a
</code></pre></div><p>很快我们会看到对一个<code>Just a</code>和一个<code>Nothing</code>来说函数应用有什么不同. 首先我们来说<code>Functor</code>（函子）</p> <h3 id="functor"><a href="#functor" aria-hidden="true" class="header-anchor">#</a> <code>Functor</code></h3> <p>当一个值被封装在一个上下文里, 你就不能拿普通函数来应用:</p> <p><img src="/assets/img/5.292f8438.png" alt="image from dependency"></p> <p>这时，<code>fmap</code>出现了，<code>fmap</code> 知道怎样将一个函数应用到一个带有上下文的值，举个例子，也许你想将<code>(+3)</code>运用到<code>Just 2</code>上面，使用<code>fmap</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; fmap (+3) (Just 2)
Just 5
</code></pre></div><p><img src="/assets/img/6.b189acd2.png" alt="image from dependency"></p> <p><code>fmap</code>让我们知道它怎么做到的，但是<code>fmap</code>怎么知道怎么将函数运用到这个值上？</p> <h4 id="functor是什么？这又是正确的吗？"><a href="#functor是什么？这又是正确的吗？" aria-hidden="true" class="header-anchor">#</a> <code>Functor</code>是什么？这又是正确的吗？</h4> <p><code>Functor</code>是一种<a href="http://learnyouahaskell.com/types-and-typeclasses#typeclasses-101" target="_blank" rel="noopener noreferrer"><code>typeclass</code> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，下面是它的定义：</p> <p><img src="/assets/img/7.76b89375.png" alt="image from dependency"></p> <blockquote><p><code>typeclass</code>是一类定义了一些行为的接口。如果一种数据类型是<code>typeclass</code>，那么这种数据类型就支持和执行在<code>typeclass</code>中描述的行为。</p></blockquote> <p>一个<code>Functor</code>是定义了<code>fmap</code>的工作原理的任何数据类型，下面就描述了<code>fmap</code>怎么工作的：</p> <p><img src="/assets/img/8.ed35b2af.png" alt="image from dependency"></p> <p>所以我们可以这样做：</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; fmap (+3) (Just 2)
Just 5
</code></pre></div><p><code>fmap</code>神奇地运用了这个函数。因为<code>Maybe</code>是一个 <code>Functor</code>，它申明了<code>fmap</code>怎么运用到<code>Just</code>和<code>Nothing</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>instance Functor Maybe where
    fmap func (Just val) = Just (func val)
    fmap func Nothing = Nothing
</code></pre></div><p>当我们写下<code>fmap (+3) (Just 2)</code>时，它正发生着下面的事情：</p> <p><img src="/assets/img/9.340a17df.png" alt="image from dependency"></p> <p>所以接下来你很喜欢已有的<code>fmap</code>，但是当你运用<code>(+3)</code>到<code>Nothing</code>上呢？</p> <p><img src="/assets/img/10.5e8899a7.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>&gt; fmap (+3) Nothing
Nothing
</code></pre></div><p>另一个例子，当你运用一个函数到一个<code>list</code>上面会发生什么呢？</p> <p><img src="/assets/img/11.6a39b7b5.png" alt="image from dependency"></p> <p><code>Lists</code>也是<code>functor</code>，下面是它的定义：</p> <div class="language- extra-class"><pre class="language-text"><code>instance Functor [] where
    fmap = map
</code></pre></div><p>最后一个例子：当你将一个函数运用到另一个函数上回发生什么呢？</p> <div class="language- extra-class"><pre class="language-text"><code>fmap (+3) (+1)
</code></pre></div><p>下面是一个函数</p> <p><img src="/assets/img/12.4d01ed93.png" alt="image from dependency"></p> <p>下面是一个函数应用到另一个函数上面：</p> <p><img src="/assets/img/13.15fe1848.png" alt="image from dependency"></p> <p>结果也是另外一个函数：</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; import Control.Applicative
&gt; let foo = fmap (+3) (+2)
&gt; foo 10
15
</code></pre></div><p>所以函数也是<code>Functor</code>。</p> <div class="language- extra-class"><pre class="language-text"><code>instance Functor ((-&gt;) r) where
    fmap f g = f . g
</code></pre></div><p>当你在一个函数上使用<code>fmap</code>时，其实你就是在做函数合成</p> <p>注意: 目前为止我们做的是将上下文当作是一个容纳值的盒子. 特别要记住: 盒子是有效的记忆图像, 然而有时你并没有盒子. 有时你的 “<code>盒子</code>” 是个函数.</p> <h3 id="applicative"><a href="#applicative" aria-hidden="true" class="header-anchor">#</a> <code>Applicative</code></h3> <p><code>Applicative</code>把它带到了一个新的层次。使用<code>Applicative</code>，我们的值放在上下文中，就像<code>Functor</code>：</p> <p><img src="/assets/img/14.7131d356.png" alt="image from dependency"></p> <p>而且我们的函数也可以放入上下文中：</p> <p><img src="/assets/img/15.6dccb108.png" alt="image from dependency"></p> <p>完全理解<code>Applicative</code>并不是开玩笑，<code>Control.Applicative</code>定义了<code>&lt;*&gt;</code>, 这个函数知道怎样把封装在上下文里的函数应用到封装在上下文里的值上面:</p> <p><img src="/assets/img/16.dae27bb0.png" alt="image from dependency"></p> <p>也就是</p> <div class="language- extra-class"><pre class="language-text"><code>Just (+3) &lt;*&gt; Just 2 == Just 5
</code></pre></div><p>使用<code>&lt;*&gt;</code>能带来一些有趣的情形. 比如:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; [(*2), (+3)] &lt;*&gt; [1, 2, 3]
[2, 4, 6, 4, 5, 6]
</code></pre></div><p><img src="/assets/img/17.bc8171e3.png" alt="image from dependency"></p> <p>这里有一些是你能用<code>Applicative</code>做, 而无法用<code>Functor</code>做到的. 你怎么才能把需要两个参数的函数应用到两个封装的值上呢?</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; (+) &lt;$&gt; (Just 5)
Just (+5)
&gt; Just (+5) &lt;$&gt; (Just 4)
ERROR ??? WHAT DOES THIS EVEN MEAN WHY IS THE FUNCTION WRAPPED IN A JUST
</code></pre></div><p><code>Applicatives</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; (+) &lt;$&gt; (Just 5)
Just (+5)
&gt; Just (+5) &lt;*&gt; (Just 3)
Just 8
</code></pre></div><p><code>Applicative</code>把<code>Functor</code>推到了一边. “大腕儿用得起任意个参数的函数,” 他说. “用<code>&lt;$&gt;</code>和<code>&lt;*&gt;</code>武装之后, 我可以接受需要任意个未封装的值的函数. 然后我传进一些封装过的值, 再我就得到一个封装的值的输出!”</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; (*) &lt;$&gt; Just 5 &lt;*&gt; Just 3
Just 15
</code></pre></div><p>一个叫做<code>liftA2</code>的函数也做一样的事:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; liftA2 (*) (Just 5) (Just 3)
Just 15
</code></pre></div><h3 id="monad"><a href="#monad" aria-hidden="true" class="header-anchor">#</a> <code>Monad</code></h3> <p>怎么学习<code>Monad</code>：</p> <ol><li>获得计算机科学的<code>PhD</code></li> <li>把它扔在一边，因为在这个章节里，你不会需要它</li></ol> <p><code>Monad</code>更加麻烦了</p> <p><code>Functor</code>应用函数到封装过的值:</p> <p><img src="/assets/img/18.da062e76.png" alt="image from dependency"></p> <p><code>Applicative</code>运用封装过的函数到封装过的值上面：</p> <p><img src="/assets/img/19.e140a934.png" alt="image from dependency"></p> <p><code>Monad</code>运用一个返回封装过的值的函数到一个封装过的值上，<code>Monad</code>有一个函数<code>&gt;&gt;=</code>（发音&quot;<code>bind</code>&quot;）来做这件事。</p> <p>让我们来看一个例子，熟悉的<code>Maybe</code>是一个<code>monad</code>：</p> <p><img src="/assets/img/20.557c1ec2.png" alt="image from dependency"></p> <p>假设<code>half</code>是仅仅对偶数才可用的函数：</p> <div class="language- extra-class"><pre class="language-text"><code>half x = if even x
           then Just (x `div` 2)
           else Nothing
</code></pre></div><p><img src="/assets/img/21.4f3d2e3e.png" alt="image from dependency"></p> <p>如果我们传给它一个封装过的值会发生什么？</p> <p><img src="/assets/img/22.903571a1.png" alt="image from dependency"></p> <p>我们需要使用<code>&gt;&gt;=</code>将封装过的值挤进这个函数，下面是<code>&gt;&gt;=</code>的图片：</p> <p><img src="/assets/img/33.e053d7ed.jpg" alt="image from dependency"></p> <p>它怎么起作用的:</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; Just 3 &gt;&gt;= half
Nothing
&gt; Just 4 &gt;&gt;= half
Just 2
&gt; Nothing &gt;&gt;= half
Nothing
</code></pre></div><p>在内部发生了什么？<code>Monad</code>是另外一种<code>typeclass</code>，下面是它的部分定义：</p> <div class="language- extra-class"><pre class="language-text"><code>class Monad m where
    (&gt;&gt;=) :: m a -&gt; (a -&gt; m b) -&gt; m b
</code></pre></div><p>下图说明了<code>&gt;&gt;=</code>是什么？</p> <p><img src="/assets/img/23.99571622.png" alt="image from dependency"></p> <p>所以<code>Maybe</code>是一个<code>Monad</code>：</p> <div class="language- extra-class"><pre class="language-text"><code>instance Monad Maybe where
    Nothing &gt;&gt;= func = Nothing
    Just val &gt;&gt;= func  = func val
</code></pre></div><p>下图就是<code>Monad</code>对<code>Just 3</code>发生了什么：</p> <p><img src="/assets/img/24.9c63df56.png" alt="image from dependency"></p> <p>如果你传给它一个<code>Nothing</code>，那就更简单了：</p> <p><img src="/assets/img/25.a0a1b030.png" alt="image from dependency"></p> <p>你也可以级联这个函数：</p> <div class="language- extra-class"><pre class="language-text"><code>&gt; Just 20 &gt;&gt;= half &gt;&gt;= half &gt;&gt;= half
Nothing
</code></pre></div><p><img src="/assets/img/26.4ea1037a.png" alt="image from dependency"></p> <p>所以现在我们知道了<code>Maybe</code>同时是一个<code>Functor</code>、<code>Applicative</code>和<code>Monad</code>。现在让我们开始另一个示例： <code>the IO monad</code></p> <p><img src="/assets/img/27.95c8838d.png" alt="image from dependency"></p> <p><code>3</code>个特别的函数。<code>getLine</code>获取用户输入而不接收参数:</p> <p><img src="/assets/img/28.b03ff3cb.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>getLine :: IO String
</code></pre></div><p><code>readFile</code>需要一个字符串（文件名）参数，返回这个文件的内容：</p> <p><img src="/assets/img/29.bf97f81b.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>readFile :: FilePath -&gt; IO String
</code></pre></div><p><code>putStrLn</code>需要一个字符串参数，并且将它打印出来</p> <p><img src="/assets/img/30.7a7e5576.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>putStrLn :: String -&gt; IO ()
</code></pre></div><p>这三个函数都接收一个常规的值 (或者不接收值) 返回一个封装过的值. 我们可以用<code>&gt;&gt;=</code>把一切串联起来!</p> <p><img src="/assets/img/31.54545578.png" alt="image from dependency"></p> <div class="language- extra-class"><pre class="language-text"><code>getLine &gt;&gt;= readFile &gt;&gt;= putStrLn
</code></pre></div><h3 id="总结："><a href="#总结：" aria-hidden="true" class="header-anchor">#</a> 总结：</h3> <ol><li>一个<code>functor</code>是一种数据类型，它需要执行<code>Functor typecla</code>描述的行为</li> <li>一个<code>applicative</code>是一种数据类型，它需要执行<code>Applicative typeclass</code> 描述的行为</li> <li>一个<code>monad</code>是一种数据类型，它需要执行<code>Monad typecla</code>描述的行为</li> <li>一个<code>Maybe</code>遵守这个，所以它既是<code>functor、applicative</code>，也是<code>monad</code></li></ol> <p><code>functor</code>、<code>applicative</code>和<code>monad</code>之间有什么不同？</p> <p><img src="/assets/img/32.f8c67ead.png" alt="image from dependency"></p> <ul><li>==<code>functors</code>==：你可以使用<code>fmap</code>或<code>&lt;$&gt;</code>将一个函数运用到一个封装的值上</li> <li>==<code>applicatives</code>==：你可以使用<code>&lt;*&gt;</code>或<code>liftA</code> 将一个封装过的函数运用到一个封装的值上</li> <li>==<code>monads</code>==：你可以使用<code>&gt;&gt;=</code>或<code>liftM</code> 将一个返回封装值的函数运用到一个封装的值上</li></ul> <h3 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h3> <p><a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html" target="_blank" rel="noopener noreferrer"><code>Functors, Applicatives, And Monads In Pictures</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="http://learnyouahaskell.com/a-fistful-of-monads" target="_blank" rel="noopener noreferrer"><code>A Fistful of Monads</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://medium.com/@tzehsiang/javascript-functor-applicative-monads-in-pictures-b567c6415221" target="_blank" rel="noopener noreferrer"><code>Javascript Functor, Applicative, Monads in pictures</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/7/2019, 2:20:32 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0aa02add.js" defer></script><script src="/assets/js/2.0d2ceddb.js" defer></script><script src="/assets/js/3.ee7ea6b1.js" defer></script>
  </body>
</html>
